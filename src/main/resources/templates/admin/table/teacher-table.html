<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <title>Admin-Form</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta content="Responsive bootstrap 4 admin template" name="description">
    <meta content="Coderthemes" name="author">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">



     <!-- App favicon -->
     <link rel="shortcut icon" href="/assets/images/favicon.ico">
     <!-- third party css -->
     <link href="/assets/libs/datatables/dataTables.bootstrap4.css" rel="stylesheet" type="text/css">
     <link href="/assets/libs/datatables/buttons.bootstrap4.css" rel="stylesheet" type="text/css">
     <link href="/assets/libs/datatables/responsive.bootstrap4.css" rel="stylesheet" type="text/css">
     <link href="/assets/libs/datatables/select.bootstrap4.css" rel="stylesheet" type="text/css">
     <!-- App css -->
     <link href="/assets/css/bootstrap.min.css" rel="stylesheet" type="text/css" id="bootstrap-stylesheet">
     <link href="/assets/css/icons.min.css" rel="stylesheet" type="text/css">
     <link href="/assets/css/app.min.css" rel="stylesheet" type="text/css" id="app-stylesheet">

</head>

<body>


            <!-- Start container-fluid -->
            <div class="container-fluid" th:fragment="teacherTable">
                <div class="mt-5">
                    <div>
                        <input type="text" id="searchInput" onkeyup="searchTable()" placeholder="Search for names.." class="form-control">
                    </div>

                    <table id="datatable-buttons" class="table table-striped table-bordered dt-responsive nowrap" style="border-collapse: collapse; border-spacing: 0; width: 100%;">
                        <thead>
                        <tr>
                            <th>ID</th>
                            <th>Username</th>
                            <th>Full Name</th>
                            <th>Email</th>
                            <th>Phone Number</th>
                            <th>Status</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="user : ${userList}" th:class="${user.status} ? 'bg-warning' : ''">
                            <td th:text="${user.id}"></td>
                            <td th:text="${user.username}"></td>
                            <td th:text="${user.fullname}"></td>
                            <td th:text="${user.email}"></td>
                            <td th:text="${user.phonenumber}"></td>
                            <td>
                                <button th:class="${user.status} ? 'btn btn-danger waves-effect' : 'btn btn-primary waves-effect waves-light mr-1'">
                                   <a th:href="'/admin/user/chageStatus/'+${user.id}" class="text-white"><span th:text="${user.status} ? 'Kích hoạt tài khoản' : 'Tắt kích hoạt'"></span></a>
                                </button>
                            </td>

                        </tr>
                        </tbody>
                    </table>
                    <script>
                        function searchTable() {
                            let input, filter, table, tr, td, i, txtValue;
                            input = document.getElementById("searchInput");
                            filter = input.value.toUpperCase();
                            table = document.getElementById("datatable-buttons");
                            tr = table.getElementsByTagName("tr");

                            for (i = 1; i < tr.length; i++) {
                                let found = false;
                                td = tr[i].getElementsByTagName("td");
                                for (let j = 0; j < td.length; j++) {
                                    let cell = td[j];
                                    if (cell) {
                                        txtValue = cell.textContent || cell.innerText;
                                        if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                            found = true;
                                            break;
                                        }
                                    }
                                }
                                if (found) {
                                    tr[i].style.display = "";
                                } else {
                                    tr[i].style.display = "none";
                                }
                            }
                        }
                    </script>

                </div>


            </div>


<script src="assets/js/vendor.min.js"></script>

        <!-- Required datatable js -->
        <script src="/assets/libs/datatables/jquery.dataTables.min.js"></script>
        <script src="/assets/libs/datatables/dataTables.bootstrap4.min.js"></script>

        <!-- Buttons examples -->
        <script src="/assets/libs/datatables/dataTables.buttons.min.js"></script>
        <script src="/assets/libs/datatables/buttons.bootstrap4.min.js"></script>
        <script src="/assets/libs/datatables/dataTables.keyTable.min.js"></script>
        <script src="/assets/libs/datatables/dataTables.select.min.js"></script>
        <script src="/assets/libs/jszip/jszip.min.js"></script>
        <script src="/assets/libs/pdfmake/pdfmake.min.js"></script>
        <script src="/assets/libs/pdfmake/vfs_fonts.js"></script>
        <script src="/assets/libs/datatables/buttons.html5.min.js"></script>
        <script src="/assets/libs/datatables/buttons.print.min.js"></script>

        <!-- Responsive examples -->
        <script src="/assets/libs/datatables/dataTables.responsive.min.js"></script>
        <script src="/assets/libs/datatables/responsive.bootstrap4.min.js"></script>

        <!-- Datatables init -->
        <script src="/assets/js/pages/datatables.init.js"></script>

        <!-- App js -->
        <script src="/assets/js/app.min.js"></script>
</body>
</html>