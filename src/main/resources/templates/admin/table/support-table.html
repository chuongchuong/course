<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <title>Admin-Form</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta content="Responsive bootstrap 4 admin template" name="description">
    <meta content="Coderthemes" name="author">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <style>
        .status-0 {
         color: red;
         font-weight: bold;
     }
     .status-1 {
         color: green;
         font-weight: bold;
     }
     .status-2 {
         color: gray;
         font-weight: bold;
     }
    </style>


     <!-- App favicon -->
     <link rel="shortcut icon" href="/assets/images/favicon.ico">
     <!-- third party css -->
     <link href="/assets/libs/datatables/dataTables.bootstrap4.css" rel="stylesheet" type="text/css">
     <link href="/assets/libs/datatables/buttons.bootstrap4.css" rel="stylesheet" type="text/css">
     <link href="/assets/libs/datatables/responsive.bootstrap4.css" rel="stylesheet" type="text/css">
     <link href="/assets/libs/datatables/select.bootstrap4.css" rel="stylesheet" type="text/css">
     <!-- App css -->
     <link href="/assets/css/bootstrap.min.css" rel="stylesheet" type="text/css" id="bootstrap-stylesheet">
     <link href="/assets/css/icons.min.css" rel="stylesheet" type="text/css">
     <link href="/assets/css/app.min.css" rel="stylesheet" type="text/css" id="app-stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>

</head>

<body  >


            <!-- Start container-fluid -->
            <div class="container-fluid" th:fragment="supportTable">
                <div class="mt-5" >

                    <!-- HTML -->
                    <table id="datatable-buttons" class="table table-striped table-bordered dt-responsive nowrap" style="border-collapse: collapse; border-spacing: 0; width: 100%;">
                        <thead>
                        <tr>
                            <th>User cần hỗ trợ</th>
                            <th>Ngày tạo</th>
                            <th>GV hỗ trợ</th>
                            <th>Course</th>
                            <th>Nội dung cần hỗ trợ</th>
                            <th>Trạng thái</th>
                            <th></th>
                        </tr>
                        </thead>
                        <tbody th:each="support : ${supportList}" th:class="${support.status} ? 'green-row' : 'yellow-row'">
                        <tr>
                            <td th:text="${support.user.email}"></td>
                            <td th:text="${support.createddate}"></td>
                            <td th:text="${support.email}"></td>
                            <td th:text="${support.course.coursename}"></td>
                            <td th:text="${support.noiDung}"></td>
                            <td th:class="'status-' + ${support.status}">
                            <span th:switch="${support.status}">
                                <span th:case="0">Chưa hỗ trợ</span>
                                <span th:case="1">Đã Hỗ trợ</span>
                                <span th:case="2">Không liên lạc được</span>
                            </span>
                            </td>
                            <td>
                                <button class="btn btn-primary" ng-click="sayHello()" type="button" onclick="showInputContainer(this)">Hỗ trợ</button>
                            </td>
                        </tr>
                        <tr id="input-container" style="display: none;">
                            <form th:action="@{/admin/support/{supportId}(supportId=${support.id})}" method="post">
                                <td colspan="5">
                                    <input required="required" name="content" type="text" placeholder="Nhập nội dung đã hỗ trợ">
                                </td>
                                <td colspan="5">
                                    <button type="submit" class="btn btn-bordered-secondary">Xác Nhận</button>
                                </td>
                            </form>

                        </tr>
                        </tbody>
                    </table>

                    <script>
                        function showInputContainer(button) {
                            var inputContainer = button.parentNode.parentNode.nextElementSibling;
                            if (inputContainer.style.display === "none" || inputContainer.style.display === "") {
                                inputContainer.style.display = "table-row";
                            } else {
                                inputContainer.style.display = "none";
                            }
                        }

                         var app1 = angular.module('supportApp', []);


                    </script>

                </div>


            </div>





<script src="assets/js/vendor.min.js"></script>

        <!-- Required datatable js -->
        <script src="/assets/libs/datatables/jquery.dataTables.min.js"></script>
        <script src="/assets/libs/datatables/dataTables.bootstrap4.min.js"></script>

        <!-- Buttons examples -->
        <script src="/assets/libs/datatables/dataTables.buttons.min.js"></script>
        <script src="/assets/libs/datatables/buttons.bootstrap4.min.js"></script>
        <script src="/assets/libs/datatables/dataTables.keyTable.min.js"></script>
        <script src="/assets/libs/datatables/dataTables.select.min.js"></script>
        <script src="/assets/libs/jszip/jszip.min.js"></script>
        <script src="/assets/libs/pdfmake/pdfmake.min.js"></script>
        <script src="/assets/libs/pdfmake/vfs_fonts.js"></script>
        <script src="/assets/libs/datatables/buttons.html5.min.js"></script>
        <script src="/assets/libs/datatables/buttons.print.min.js"></script>

        <!-- Responsive examples -->
        <script src="/assets/libs/datatables/dataTables.responsive.min.js"></script>
        <script src="/assets/libs/datatables/responsive.bootstrap4.min.js"></script>

        <!-- Datatables init -->
        <script src="/assets/js/pages/datatables.init.js"></script>

        <!-- App js -->
        <script src="/assets/js/app.min.js"></script>

</body>
</html>
