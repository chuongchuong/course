<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6">

<head th:fragment="head">
    <title>khóa học 154</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="khóa học 154 project">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="/user/styles/bootstrap4/bootstrap.min.css">
    <link href="/user/plugins/font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" type="text/css" href="/user/plugins/OwlCarousel2-2.2.1/owl.carousel.css">
    <link rel="stylesheet" type="text/css" href="/user/plugins/OwlCarousel2-2.2.1/owl.theme.default.css">
    <link rel="stylesheet" type="text/css" href="/user/plugins/OwlCarousel2-2.2.1/animate.css">


    <!--




      -->

    <!--    <script nonce="596bb1b3-895a-442e-b950-1e557f2a5320">(function (w, d) { !function (a, b, c, d) { a[c] = a[c] || {}; a[c].executed = []; a.zaraz = { deferred: [], listeners: [] }; a.zaraz.q = []; a.zaraz._f = function (e) { return async function () { var f = Array.prototype.slice.call(arguments); a.zaraz.q.push({ m: e, a: f }) } }; for (const g of ["track", "set", "debug"]) a.zaraz[g] = a.zaraz._f(g); a.zaraz.init = () => { var h = b.getElementsByTagName(d)[0], i = b.createElement(d), j = b.getElementsByTagName("title")[0]; j && (a[c].t = b.getElementsByTagName("title")[0].text); a[c].x = Math.random(); a[c].w = a.screen.width; a[c].h = a.screen.height; a[c].j = a.innerHeight; a[c].e = a.innerWidth; a[c].l = a.location.href; a[c].r = b.referrer; a[c].k = a.screen.colorDepth; a[c].n = b.characterSet; a[c].o = (new Date).getTimezoneOffset(); if (a.dataLayer) for (const n of Object.entries(Object.entries(dataLayer).reduce(((o, p) => ({ ...o[1], ...p[1] })), {}))) zaraz.set(n[0], n[1], { scope: "page" }); a[c].q = []; for (; a.zaraz.q.length;) { const q = a.zaraz.q.shift(); a[c].q.push(q) } i.defer = !0; for (const r of [localStorage, sessionStorage]) Object.keys(r || {}).filter((t => t.startsWith("_zaraz_"))).forEach((s => { try { a[c]["z_" + s.slice(7)] = JSON.parse(r.getItem(s)) } catch { a[c]["z_" + s.slice(7)] = r.getItem(s) } })); i.referrerPolicy = "origin"; i.src = "../../cdn-cgi/zaraz/sd0d9.js?z=" + btoa(encodeURIComponent(JSON.stringify(a[c]))); h.parentNode.insertBefore(i, h) };["complete", "interactive"].includes(b.readyState) ? zaraz.init() : a.addEventListener("DOMContentLoaded", zaraz.init) }(w, d, "zarazData", "script"); })(window, document);</script>-->
</head>
<body ng-app="myApp">


<!--  Header-->
<header class="header" th:fragment="header">

    <div class="top_bar">
        <div class="top_bar_container">
            <div class="container">
                <div class="row">
                    <div class="col">
                        <div class="top_bar_content d-flex flex-row align-items-center justify-content-start">

                            <div sec:authorize="!isAuthenticated()"  class="top_bar_login ml-auto">
                                <div class="login_button"><a th:href="@{/login}">Đăng ký / Đăng nhập</a></div>
                            </div>
                            <div sec:authorize="isAuthenticated()"  class="top_bar_login ml-auto">
                                <div class="dropdown">
                                    <button th:text="${#authentication.name}" class="btn btn-warning dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">

                                    </button>
                                    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                        <a class="dropdown-item" th:href="@{/profile }">Cá nhân</a>
                                        <a class="dropdown-item" th:href="@{/library}">Thư viện</a>
                                        <a class="dropdown-item" href="/logout">Đăng xuất</a>
                                    </div>
                                </div>

                                <!--                                        <div class="login_button"><a style="color:black;font-weight: bold;" ></a></div>-->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="header_container">
        <div class="container">
            <div class="row">
                <div class="col">
                    <div class="header_content d-flex flex-row align-items-center justify-content-start">
                        <div class="logo_container">
                            <a href="#">
                                <div class="logo_text" >khóa học <span>145</span></div>
                            </a>
                        </div>
                        <nav class="main_nav_contaner ml-auto">
                            <ul class="main_nav">
                                <li ><a th:href="@{/home}">Trang Chủ</a></li>
                                <li><a th:href="@{/courses}">Khóa Học</a></li>
                                <li><a th:href="@{/courses/sales}">Khuyến Mãi</a></li>
                                <li sec:authorize="isAuthenticated()"><a th:href="@{/library}">Thư Viện</a></li>
                                <li sec:authorize="isAuthenticated()"><a th:href="@{/order}">Lịch sử</a></li>

                                <li  sec:authorize="isAuthenticated()" th:if="${#strings.contains(#authentication.authorities, 'ROLE_ADMIN') || #strings.contains(#authentication.authorities, 'ROLE_TEACHER')}"><a th:href="@{/admin/dashboard}">Quản lý khóa học</a></li>
                            </ul>


                            <div  class="shopping_cart" ><a  th:href="@{/cart}" ><i  class="fa fa-shopping-cart" aria-hidden="true"></i></a>                                    </div>
                            <div class="hamburger menu_mm">
                                <i class="fa fa-bars menu_mm" aria-hidden="true"></i>
                            </div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="header_search_container">
        <div class="container">
            <div class="row">
                <div class="col">
                    <div class="header_search_content d-flex flex-row align-items-center justify-content-end">
                        <form action="#" class="header_search_form">
                            <input type="search" class="search_input" placeholder="Search" required="required">
                            <button
                                    class="header_search_button d-flex flex-column align-items-center justify-content-center">
                                <i class="fa fa-search" aria-hidden="true"></i>
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>

<!--footer  -->
<footer class="footer" th:fragment="footer">
    <div class="footer_background" ></div>
    <div class="container">
        <div class="row footer_row">
            <div class="col">
                <div class="footer_content">
                    <div class="row">
                        <div class="col-lg-3 footer_col">

                            <div class="footer_section footer_about">
                                <div class="footer_logo_container">
                                    <a href="#">
                                        <div class="footer_logo_text">khóa học <span>145</span></div>
                                    </a>
                                </div>

                                <div class="footer_social">
                                    <ul>
                                        <li><a href="#"><i class="fa fa-facebook" aria-hidden="true"></i></a>
                                        </li>
                                        <li><a href="#"><i class="fa fa-google-plus" aria-hidden="true"></i></a>
                                        </li>
                                        <li><a href="#"><i class="fa fa-instagram" aria-hidden="true"></i></a>
                                        </li>
                                        <li><a href="#"><i class="fa fa-twitter" aria-hidden="true"></i></a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-3 footer_col">

                            <div class="footer_section footer_contact">
                                <div class="footer_title">KHÓA HỌC TRỰC TUYẾN</div>
                                <div class="footer_contact_info">
                                    <ul>

                                        <li>Phone: +(88) 111 555 666</li>

                                    </ul>
                                </div>
                            </div>
                        </div>


                    </div>
                </div>
            </div>
        </div>
        <div class="row copyright_row">
            <div class="col">
                <div class="copyright d-flex flex-lg-row flex-column align-items-center justify-content-start">
                    <div class="cr_text">
                        Copyright &copy;
                    </div>
                    <div class="ml-lg-auto cr_links">
                        <ul class="cr_list">
                            <li><a href="#">Copyright notification</a></li>
                            <li><a href="#">Terms of Use</a></li>
                            <li><a href="#">Privacy Policy</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</footer>
<!-- /////////////////////////////////////////////////// -->
<!--Comment-->
<div th:fragment="comment">
    <div class="course_tabs_container" >
        <div class="tabs d-flex flex-row align-items-center justify-content-start">

            <div class="tab">Đánh giá người dùng</div>

        </div>
        <div class="tab_panels">





            <div class="tab_panel active " >
                <div class="tab_panel_title">Đánh giá khóa học</div>



                <div class="comments_container" >
                    <ul class="comments_list">

                        <li ng-repeat="comment in comments">
                            <div class="comment_item d-flex flex-row align-items-start jutify-content-start">
                                <div class="comment_image"><div></div></div>
                                <div class="comment_content">
                                    <div class="comment_title_container d-flex flex-row align-items-center justify-content-start">
                                        <div class="comment_author"><a href="#">{{comment.user.fullname}}</a></div>

                                        <div class="comment_time ml-auto">{{ comment.createddate | timeAgo }}</div>
                                    </div>
                                    <div class="comment_text">
                                        <p>{{comment.contents}}</p>
                                    </div>
                                    <div class="comment_extras d-flex flex-row align-items-center justify-content-start">
                                        <div ng-if="comment.isOwner">
                                            <div class="comment_extra comment_likes"><a href="#" ng-click="deleteCommentStatus(comment.id, comment)" onclick="preventDefault(event)"><span>Xóa bình luận</span></a></div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </li>
                    </ul>
                    <div class="add_comment_container" >
                        <div class="add_comment_title">Bình luận</div>
                        <div class="add_comment_text" sec:authorize="!isAuthenticated()">Bạn phải đăng nhập để bình luận<a th:href="@{/login}">Đăng nhập</a> </div>
                        <div>
                            <div class="comment_section" sec:authorize="isAuthenticated()">
                                <div class="comment_image"><div><img src="images/comment_3.jpg" alt></div></div>
                                <div class="comment_content">
                                    <div class="comment_title_container d-flex flex-row align-items-center justify-content-start">
                                        <div class="comment_author"><a href="#" ng-bind="currentUser.fullname" ></a></div>


                                    </div>
                                    <div class="comment_text">
                                        <input type="text" class="form-control" id="ex_comment" ng-model="comment"  placeholder="Viết bình luận...">
                                       <br>
                                        <button ng-click="submitComment()"  class="btn btn-primary mb-2" >Bình luận</button>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

User-ctrl

<div th:fragment="jquery">
    <script src="/user/js/jquery-3.2.1.min.js"></script>
    <script src="/user/styles/bootstrap4/popper.js"></script>
    <script src="/user/styles/bootstrap4/bootstrap.min.js"></script>
    <script src="/user/plugins/greensock/TweenMax.min.js"></script>
    <script src="/user/plugins/greensock/TimelineMax.min.js"></script>
    <script src="/user/plugins/scrollmagic/ScrollMagic.min.js"></script>
    <script src="/user/plugins/greensock/animation.gsap.min.js"></script>
    <script src="/user/plugins/greensock/ScrollToPlugin.min.js"></script>
    <script src="/user/plugins/OwlCarousel2-2.2.1/owl.carousel.js"></script>
    <script src="/user/plugins/easing/easing.js"></script>
    <script src="/user/plugins/parallax-js-master/parallax.min.js"></script>
    <script src="/user/js/custom.js"></script>
    <script
            src="https://maps.googleapis.com/maps/api/js?v=3.exp&amp;key=AIzaSyCIwF204lFZg1y4kPSIhKaHEXMLYxxuMhA"></script>
    <script src="/user/plugins/marker_with_label/marker_with_label.html"></script>
    <script src="/user/js/contact.js"></script>\

    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-23581568-13"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'UA-23581568-13');
    </script>
    <script defer
            src="https://static.cloudflareinsights.com/beacon.min.js/v8b253dfea2ab4077af8c6f58422dfbfd1689876627854"
            integrity="sha512-bjgnUKX4azu3dLTVtie9u6TKqgx29RBwfj3QXYt5EKfWM/9hPSAI/4qcV5NACjwAo8UtTeWefx6Zq5PHcMm7Tg=="
            data-cf-beacon='{"rayId":"80c0bbb8ff664054","version":"2023.8.0","b":1,"token":"cd0b4b3a733644fc843ef0b185f98241","si":100}'
            crossorigin="anonymous"></script>
</div>
</body>
</html>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
<script src="/script/user/comment.js"></script>
<script>
    function preventDefault(event) {
        event.preventDefault();
    }
</script>